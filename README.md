# YaMDB API
Учебный групповой проект "API сервиса YaMDB".

## Описание проекта YaMDB
Проект YaMDB собирает отзывы пользователей на произведения.
Произведения делятся на категории: "Книги", "Фильмы", "Музыка".
Список категорий может быть дополнен администратором.
Сами произведения в YaMDB не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории "Книги" могут быть произведения "Винни-Пух и все-все-все", а в категории "Музыка" - песня "Давеча" группы "Насекомые" и вторая сюита Баха.
Произведению может быть присвоен жанр из списка предустановленных (например, "Сказка", "Рок" или "Артхаус"). Новые жанры может создавать только администратор.
Благодарные или возмущенные пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усредненная оценка произведения - рейтинг (целое число).
На одно произведение пользователь может оставить только один отзыв.

### Алгоритм регистрации пользователей
1. Пользователь отправляет POST-запрос с параметрами ```email``` и ```username``` на эндпоинт ```/api/v1/auth/signup/```.
2. Сервис YaMDB отправляет письмо с кодом подтверждения (```confirmation_code```) на указанный адрес ```email```.
3. Пользователь отправляет POST-запрос с параметрами ```username``` и ```confirmation_code``` на эндпоинт ```/api/v1/auth/token/```, в ответе на запрос ему приходит ```token``` (JWT-токен).
В результате пользователь получает токен и может работать с API проекта, отправляя этот токен с каждым запросом.
4. После регистрации и получения токена пользователь может отправить PATCH-запрос на эндпоинт ```/api/v1/users/me/``` и заполнить поля в своём профайле (описание полей — в документации).
5. Пользователя может создать администратор — через админ-зону сайта или через POST-запрос на специальный эндпоинт ```api/v1/users/``` (описание полей запроса для этого случая — в документации).
6. После этого пользователь должен самостоятельно отправить свой ```email``` и ```username``` на эндпоинт ```/api/v1/auth/signup/``` , в ответ ему должно прийти письмо с кодом подтверждения.
7. Далее пользователь отправляет POST-запрос с параметрами ```username``` и ```confirmation_code``` на эндпоинт ```/api/v1/auth/token/```, в ответе на запрос ему приходит ```token``` (JWT-токен), как и при самостоятельной регистрации.

### Как запустить проект

В командной строке клонируйте проект в нужную папку и перейдите в него:
```
git clone https://github.com/NVTaranets/api_yamdb
```
```
cd api_yamdb
```
Создайте и активируйте виртуальное окружение:
```
python -m venv venv
```
```
source venv/Scripts/activate
```
Установите зависимости:
```
pip install -r requirements.txt
```
Перейдите в папку api_yamdb:
```
cd api_yamdb
```
Создайте и выполните миграции:
```
python manage.py makemigrations
```
```
python manage.py migrate
```
Запустите проект:
```
python manage.py runserver
```
Для импорта данных введите команду:
```
py manage.py import_csv_data users.csv category.csv genre.csv titles.csv genre_title.csv review.csv comments.csv
```
## Документация API YaMDB
После запуска проекта вам будет доступна документация проекта по адресу http://127.0.0.1:8000/redoc/, где описано, как работает проект, и представлены примеры доступных запросов.
